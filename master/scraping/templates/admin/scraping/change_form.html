{% extends "admin/change_form.html" %}
{% load leaflet_tags %}

{% block extrahead %}
    {% leaflet_js plugins="forms,extra" %}
   {% leaflet_css plugins="forms,extra" %}
{% endblock extrahead %}
{% block admin_change_form_document_ready %}
{{ block.super }}
<script type="text/javascript">
alert('-------------')
 (function($){
console.log($)
    window.addEventListener("map:init", function (e) {
        var map = e.detail.map;
        L.marker([42.83823,74.60449]).addTo(map);
    }, false);

    L.FieldStore.extend({
        save: function() {
            console.log('***************************')
        }
    })

    L.GeometryField.extend({
    addTo: function (map) {
        alert('******************')
    },
    // See GeometryField source (static/leaflet/leaflet.forms.js) to override more stuff...
});
 })(django.jQuery)
    
</script>
{% endblock %}